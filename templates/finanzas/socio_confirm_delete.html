{% extends 'base.html' %}
{% load form_utils %}

{% block title %}Confirmar Eliminación de Socio - APRODMAYO{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header bg-danger text-white d-flex justify-content-between align-items-center">
        <h2 class="mb-0">Confirmar Eliminación</h2>
        <a href="{% url 'socio_detail' object.pk %}" class="btn btn-light">Volver</a>
    </div>
    <div class="card-body">
        <div class="alert alert-warning">
            <h4 class="alert-heading"><i class="bi bi-exclamation-triangle-fill me-2"></i>¡Advertencia!</h4>
            <p>Está a punto de eliminar al socio <strong>{{ object.nombres }} {{ object.apellidos }}</strong>.</p>
            <p>Esta acción eliminará permanentemente todos los datos de este socio, incluyendo su historial de pagos y no podrá recuperarse.</p>
        </div>

        <div class="card mb-3">
            <div class="card-header bg-light">
                <h5 class="mb-0">Datos del Socio</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Nombre completo:</strong> {{ object.nombres }} {{ object.apellidos }}</p>
                        <p><strong>DNI:</strong> {{ object.documento_identidad }}</p>
                        <p><strong>Fecha de registro:</strong> {{ object.fecha_registro }}</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Estado:</strong> {{ object.get_estado_display }}</p>
                        <p><strong>Cuota mensual:</strong> S/. {{ object.cuota_mensual }}</p>
                        <p><strong>Teléfono:</strong> {{ object.telefono|default:"No registrado" }}</p>
                    </div>
                </div>
            </div>
        </div>

        <form method="post" class="needs-validation" novalidate>
            {% csrf_token %}
            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <a href="{% url 'socio_detail' object.pk %}" class="btn btn-secondary me-md-2">Cancelar</a>
                <button type="submit" class="btn btn-danger">
                    Confirmar Eliminación
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
